<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual (23 April 2022)
is for Libmarpa 8.6.2.

Copyright (C) 2018 Jeffrey Kegler.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the "Software"),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE. -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>The generalized model (Libmarpa 8.6.2)</title>

<meta name="description" content="The generalized model (Libmarpa 8.6.2)">
<meta name="keywords" content="The generalized model (Libmarpa 8.6.2)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Earlemes.html#Earlemes" rel="up" title="Earlemes">
<link href="General-rules-for-the-earleme-variables.html#General-rules-for-the-earleme-variables" rel="next" title="General rules for the earleme variables">
<link href="Variable-length-tokens.html#Variable-length-tokens" rel="prev" title="Variable length tokens">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="The-generalized-model"></a>
<div class="header">
<p>
Next: <a href="General-rules-for-the-earleme-variables.html#General-rules-for-the-earleme-variables" accesskey="n" rel="next">General rules for the earleme variables</a>, Previous: <a href="Variable-length-tokens.html#Variable-length-tokens" accesskey="p" rel="prev">Variable length tokens</a>, Up: <a href="Earlemes.html#Earlemes" accesskey="u" rel="up">Earlemes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<hr>
<a name="The-generalized-model-1"></a>
<h4 class="subsection">4.1.8 The generalized model</h4>

<p>To fully generalize the input model,
we now need to remove only one restriction.
We now allow empty earlemes &mdash; earlemes with
no tokens and no Earley set.
For the generalized input model,
the effect on the earleme variables of
a call
to <code>marpa_r_alternative()</code> is exactly
the same as it is for the variable length input model.
The effect on the earleme variables of a call to
to <code>marpa_r_earleme_complete()</code> depends on
whether or not that call creates an empty earleme.
A call
to <code>marpa_r_earleme_complete()</code>
creates an empty earleme if and only if
it falls into one of these two cases:
</p><ul>
<li> There has been no call
to <code>marpa_r_alternative()</code> since
recognizer initialization.
</li><li> No previous call to <code>marpa_r_alternative()</code> created
a lexeme which ends at the next earleme.
The &quot;next earleme&quot; is <var>c+1</var>,
where <var>c</var> is the current earleme.
</li></ul>

<p>A previous call to
<code>marpa_r_alternative()</code> created
an earleme which ends at <var>lex_end</var>,
if
</p><ul>
<li> It was called when the current earleme
was <var>lex_start</var>.
</li><li> It created a lexeme of length <var>lex_len</var>.
</li><li> <var>lex_start+lex_len</var> is equal to
<var>lex_end</var>.
</li></ul>

<p>Note that the above implies the ordinary case:
If <code>marpa_r_alternative()</code> is called
at current location <var>c</var>,
and the lexeme it creates has the default length of 1,
then that lexeme will end at <var>c+1</var>,
the &quot;next earleme&quot;.
</p>
<p>Suppose, in the generalized input model that,
for a call
to <code>marpa_r_earleme_complete()</code>
that creates an empty earleme,
the following is true:
</p><ul>
<li> The current earleme before the call is <var>c</var>.
</li><li> The latest earleme before the call is <var>old_l</var>.
</li><li> The furthest earleme before the call is <var>old_f</var>.
</li></ul>
<p>In that case,
after the call
to <code>marpa_r_earleme_complete()</code>,
the following will be true:
</p><ul>
<li> The current earleme will be advanced to <var>c+1</var>.
</li><li> The latest earleme will remain at <var>old_l</var>.
This means that the latest earleme will be less than
the current earleme.
</li><li> The furthest earleme will remain at <var>old_f</var>.
The furthest earleme is never changed by a call
to <code>marpa_r_earleme_complete()</code>.
</li></ul>

<p>Suppose, in the generalized input model that,
for a call
to <code>marpa_r_earleme_complete()</code>
that does not create an empty earleme,
the following is true:
</p><ul>
<li> The current earleme before the call is <var>c</var>.
</li><li> The latest earleme before the call is <var>old_l</var>.
</li><li> The furthest earleme before the call is <var>old_f</var>.
</li></ul>
<p>In that case,
after the call
to <code>marpa_r_earleme_complete()</code>,
the following will be true:
</p><ul>
<li> The current earleme will be advanced to <var>c+1</var>.
</li><li> The latest earleme will be advanced to <var>c+1</var>.
</li><li> The furthest earleme will remain at <var>old_f</var>.
The furthest earleme is never changed by a call
to <code>marpa_r_earleme_complete()</code>.
</li></ul>

<hr>
<div class="header">
<p>
Next: <a href="General-rules-for-the-earleme-variables.html#General-rules-for-the-earleme-variables" accesskey="n" rel="next">General rules for the earleme variables</a>, Previous: <a href="Variable-length-tokens.html#Variable-length-tokens" accesskey="p" rel="prev">Variable length tokens</a>, Up: <a href="Earlemes.html#Earlemes" accesskey="u" rel="up">Earlemes</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>



</body>
</html>
